{
  "memories": [
    {
      "id": "mem_1753805867109_zljyvb628",
      "content": "Fixed Coolify deployment issue by replacing fragile multi-line nginx config RUN command with proper nginx.conf file copy. The issue was the complex echo command with backslashes causing nginx startup failures. Solution: created nginx.conf file and used COPY command instead.",
      "type": "config",
      "tags": [
        "config",
        "deployment",
        "dockerfile",
        "nginx",
        "coolify",
        "fix"
      ],
      "timestamp": "2025-07-29T16:17:47.109Z",
      "context": "Kanri project Dockerfile nginx configuration deployment fix",
      "accessCount": 1,
      "lastAccessed": "2025-07-29T16:22:15.343Z",
      "lastVerified": "2025-07-29T16:17:47.109Z",
      "status": "fresh"
    },
    {
      "id": "mem_1753806082351_70tp5lx2t",
      "content": "Updated Kanri Dockerfile to properly handle nginx configuration: 1) Remove default nginx config before copying custom one, 2) Set proper permissions on html files with chmod -R 755. This should resolve deployment conflicts and startup issues.",
      "type": "tip",
      "tags": [
        "tip",
        "deployment",
        "dockerfile",
        "nginx",
        "permissions",
        "coolify"
      ],
      "timestamp": "2025-07-29T16:21:22.351Z",
      "context": "Kanri project nginx Dockerfile deployment fix",
      "accessCount": 1,
      "lastAccessed": "2025-07-29T16:22:15.343Z",
      "lastVerified": "2025-07-29T16:21:22.351Z",
      "status": "fresh"
    },
    {
      "id": "mem_1753806293693_n807wa115",
      "content": "Fixed Kanri deployment issue where site showed nginx default page instead of app. Problem was in Dockerfile file copy logic - the cp command could fail silently leaving empty /tmp/html directory. Fixed by: 1) ensuring /tmp/html directory exists first, 2) better error handling in copy operation, 3) added debugging with ls -la, 4) added health check with curl for monitoring.",
      "type": "troubleshooting",
      "tags": [
        "troubleshooting",
        "deployment",
        "dockerfile",
        "nginx",
        "static-files",
        "healthcheck",
        "coolify"
      ],
      "timestamp": "2025-07-29T16:24:53.693Z",
      "context": "Kanri Dockerfile nginx static files deployment fix",
      "accessCount": 0,
      "lastAccessed": "2025-07-29T16:24:53.693Z",
      "lastVerified": "2025-07-29T16:24:53.693Z",
      "status": "fresh"
    }
  ],
  "lastUpdated": "2025-07-29T16:24:53.693Z"
}